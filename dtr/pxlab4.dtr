Experiment()
{
  Context()
  {
    AssignmentGroup()
    {
      ExperimentName = lang2("RISPONDI AL SEGNALE!", "Reaktionszeit auf akustische und optische Signale");
      SubjectCode = "pxlab4";
      TrialFactor = 1;
      new SignalType = 0;
    }
    Session:Optical( SignalType)
    {
      Instruction()
      {
        Text = lang2(["RISPONDI AL SEGNALE!", " ", "QUESTO GIOCO DEVE ESSERE FATTO CON POCA LUCE, QUINDI, ABBASSA LA LUMINOSITA\' DELLA STANZA. Vedrai una croce seguita da un punto. Premi il tasto del mouse piu\' veloce possibile appena vedi il punto.", " ", "PREMI UN TASTO PER INIZIARE!"], "Reaktionszeit auf ein optisches Signal\n \nSie werden nach dem Kreuz ein optisches Signal (Punkt) sehen.\n Dr�cken Sie die Maustaste so schnell wie m�glich wenn Sie den Punkt sehen!\n \nZum Starten bitte Taste dr�cken!");
      }
    }
    SessionEnd:Optical()
    {
      SessionEndMessage()
      {
      }
    }
    Session:Acoustic( SignalType)
    {
      Instruction()
      {
        Text = lang2(["RISPONDI AL SUONO!", " ", "QUESTO GIOCO DEVE ESSERE FATTO CON POCA LUCE, QUINDI, ABBASSA LA LUMINOSITA\' DELLA STANZA. Vedrai una croce seguita da un suono. Premi il tasto del mouse piu\' veloce possibile appena senti il suono.", " ", "PREMI UN TASTO PER INIZIARE!"], "Reaktionszeit auf einen akustischen Reiz\n \nSie werden einen akustischen Reiz h�ren, nachdem ein Kreuz auf dem Bildschirm erschien.\nBitte dr�cken Sie die Maustaste so schnell wie m�glich wenn Sie diesen Reiz h�ren.\n \nZum Starten bitte Taste dr�cken!");
      }
    }
    SessionEnd:Acoustic()
    {
      SessionEndMessage()
      {
        Text = "P A U S A";
      }
    }
    Block( StoreData, TrialFactor);
    Trial:Optical( SubjectCode, SignalType, ClearScreenRandomTime.Duration, SimpleDisk.ResponseTime)
    {
      ClearScreen()
      {
        Timer = de.pxlab.pxl.TimerCodes.VS_CLOCK_TIMER;
        Duration = 500;
      }
      FixationMark()
      {
        Timer = de.pxlab.pxl.TimerCodes.CLOCK_TIMER;
        Duration = 300;
      }
      ClearScreen:WaitSignal()
      {
        Timer = de.pxlab.pxl.TimerCodes.CLOCK_TIMER;
        Duration = 200;
      }
      ClearScreenRandomTime()
      {
        Timer = de.pxlab.pxl.TimerCodes.CLOCK_TIMER;
        ExpectedWait = 1000;
        WaitingTimeLimit = 3500;
        Duration = 3000;
      }
      SimpleDisk()
      {
        Timer = de.pxlab.pxl.TimerCodes.VS_RESPONSE_TIMER;
        Size = idiv(screenWidth(), 20);
        Color = White;
        LocationX = -screenWidth()/8.2;
        LocationY = screenHeight()/7;
      }
      Feedback()
      {
        Text = "%Trial:Optical.SimpleDisk.ResponseTime@i% ms";
        Timer = de.pxlab.pxl.TimerCodes.CLOCK_TIMER;
        Duration = 1000;
      }
    }
    Trial:Acoustic( SubjectCode, SignalType, ClearScreenRandomTime.Duration, ResponseTime)
    {
      ClearScreen()
      {
        Timer = de.pxlab.pxl.TimerCodes.VS_CLOCK_TIMER;
        Duration = 500;
      }
      FixationMark()
      {
        Timer = de.pxlab.pxl.TimerCodes.CLOCK_TIMER;
        Duration = 300;
      }
      ClearScreen:WaitSignal()
      {
        Timer = de.pxlab.pxl.TimerCodes.CLOCK_TIMER;
        Duration = 200;
      }
      ClearScreenRandomTime()
      {
        Timer = de.pxlab.pxl.TimerCodes.CLOCK_TIMER;
        ExpectedWait = 1000;
        WaitingTimeLimit = 3500;
        Duration = 3000;
      }
      SyntheticSound()
      {
        Timer = de.pxlab.pxl.TimerCodes.END_OF_MEDIA_TIMER|de.pxlab.pxl.TimerCodes.START_RESPONSE_TIMER;
        Gain = 1;
        Duration = 200;
        Channels = 1;
        QuietLead = 0;
        Envelope = de.pxlab.pxl.SoundEnvelopeCodes.CONSTANT;
        Wave = de.pxlab.pxl.SoundWaveCodes.PURE_TONE;
        WavePars = 600;
      }
      ClearScreen:Response()
      {
        Timer = de.pxlab.pxl.TimerCodes.RESPONSE_TIMER|de.pxlab.pxl.TimerCodes.STOP_RESPONSE_TIMER;
      }
      Feedback()
      {
        Text = "%ResponseTime@i% ms";
        Timer = de.pxlab.pxl.TimerCodes.CLOCK_TIMER;
        Duration = 1000;
      }
    }
    // Session dependent assignments

    AssignmentGroup()
    {
      SubjectCode = "pxlab4";
      RemainingSessionGroup = 0;
      RemainingSessionRuns = 0;
      Date = "11/03/19 13.31.14 CET";
      PXLabVersion = "2.1.19";
      PrimaryScreen.ColorDevice = de.pxlab.pxl.ColorDeviceTransformCodes.SONY_TRINITRON;
      PrimaryScreen.ColorDeviceDACRange = 255;
      PrimaryScreen.RedPrimary = [21.26, 0.621, 0.34];
      PrimaryScreen.GreenPrimary = [71.52, 0.281, 0.606];
      PrimaryScreen.BluePrimary = [7.22, 0.152, 0.067];
      PrimaryScreen.RedGamma = [2.4, 1];
      PrimaryScreen.GreenGamma = [2.4, 1];
      PrimaryScreen.BlueGamma = [2.4, 1];
      SecondaryScreen.ColorDevice = de.pxlab.pxl.ColorDeviceTransformCodes.SONY_TRINITRON;
      SecondaryScreen.ColorDeviceDACRange = 255;
      SecondaryScreen.RedPrimary = [21.26, 0.621, 0.34];
      SecondaryScreen.GreenPrimary = [71.52, 0.281, 0.606];
      SecondaryScreen.BluePrimary = [7.22, 0.152, 0.067];
      SecondaryScreen.RedGamma = [2.4, 1];
      SecondaryScreen.GreenGamma = [2.4, 1];
      SecondaryScreen.BlueGamma = [2.4, 1];
      DeviceWhitePoint = [100, 0.3065, 0.3468];
      CIEWhitePoint = 0;
    }
  }
  Procedure()
  {
    Session:Acoustic( 0)
    {
      Block( 1, 6)
      {
        Trial:Acoustic( "pxlab4", 0, 1397.7841, 909.996);
        Trial:Acoustic( "pxlab4", 0, 92.1868, 334.2951);
        Trial:Acoustic( "pxlab4", 0, 1650.7068, 292.9094);
        Trial:Acoustic( "pxlab4", 0, 936.0552, 330.7831);
        Trial:Acoustic( "pxlab4", 0, 786.1587, 477.786);
        Trial:Acoustic( "pxlab4", 0, 123.5782, 422.7671);
      }
    }
    Session:Optical( 0)
    {
      Block( 1, 6)
      {
        Trial:Optical( "pxlab4", 0, 439.9617, 268.3948);
        Trial:Optical( "pxlab4", 0, 699.3003, 332.364);
        Trial:Optical( "pxlab4", 0, 268.9175, 316.4067);
        Trial:Optical( "pxlab4", 0, 2471.2165, 262.9517);
        Trial:Optical( "pxlab4", 0, 671.0439, 422.7559);
        Trial:Optical( "pxlab4", 0, 90.0306, 481.6929);
      }
    }
  }
}
